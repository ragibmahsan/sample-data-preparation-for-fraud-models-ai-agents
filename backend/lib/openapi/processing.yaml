openapi: 3.0.0
info:
  title: Data_Analysis_API
  version: 1.0.0
paths:
  /analyze_report:
    post:
      operationId: analyze_report
      description: Analyze a report from S3
      responses:
        '200':
          description: Report analyzed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  reportUri:
                    type: string
                    description: S3 URI of the analyzed report
                  data:
                    type: object
                    description: Analyzed report data
                  status:
                    type: string
                    description: Analysis status
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - report_uri
              properties:
                report_uri:
                  type: string
                  description: S3 URI of the report to analyze
  /create_data_quality_insight:
    post:
      operationId: create_data_quality_insight
      description: Create data quality insight
      responses:
        '200':
          description: Data quality insight job created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  jobName:
                    type: string
                    description: Name of the created job
                  jobArn:
                    type: string
                    description: ARN of the created job
                  resultsPath:
                    type: string
                    description: S3 path for job results
                  status:
                    type: string
                    description: Job status
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - flow_s3_uri
                - transactions_s3_uri
              properties:
                flow_s3_uri:
                  type: string
                  description: S3 URI of the flow file
                transactions_s3_uri:
                  type: string
                  description: S3 URI of the transactions file
